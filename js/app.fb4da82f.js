(function(t){function e(e){for(var r,o,u=e[0],s=e[1],l=e[2],c=0,d=[];c<u.length;c++)o=u[c],a[o]&&d.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);f&&f(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(i.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},a={app:0},i=[];function o(t){return u.p+"js/"+({montage:"montage"}[t]||t)+"."+{montage:"8efbe21b"}[t]+".js"}function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise(function(e,r){n=a[t]=[e,r]});e.push(n[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,u.nc&&s.setAttribute("nonce",u.nc),s.src=o(t),i=function(e){s.onerror=s.onload=null,clearTimeout(l);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+r+": "+i+")");o.type=r,o.request=i,n[1](o)}a[t]=void 0}};var l=setTimeout(function(){i({type:"timeout",target:s})},12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(e)},u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/web-edf-viewer/",u.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var f=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"034f":function(t,e,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},"64a9":function(t,e,n){},"6c04":function(t,e,n){},"9ba0":function(t,e,n){"use strict";var r=n("6c04"),a=n.n(r);a.a},cd49:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"init_error_panic",function(){return D}),n.d(r,"init_reader",function(){return q}),n.d(r,"read_window",function(){return X}),n.d(r,"set_current_montage",function(){return tt}),n.d(r,"default",function(){return Yt});n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column min-vh-100",attrs:{id:"app"}},[n("menubar"),n("div",{staticClass:"flex-fill d-flex flex-column"},[n("router-view",{staticClass:"flex-fill"})],1)],1)},o=[],u=n("d225"),s=n("308d"),l=n("6bb5"),c=n("4e2b"),f=n("9ab4"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-primary"},[n("a",{staticClass:"navbar-brand order-0 mr-4",attrs:{href:"#"}},[t._v("EDF viewer")]),n("select-file",{staticClass:"order-1 mr-2"}),this.isFileLoaded?[n("ul",{staticClass:"navbar-nav order-2 mr-2"},[n("li",{staticClass:"nav-item active"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("Viewer")])],1)]),n("form",{staticClass:"order-3 ml-auto form-inline"},[n("filter-selector"),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedGain,expression:"selectedGain"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedGain=e.target.multiple?n:n[0]}}},t._l(t.gainList,function(e){return n("option",{domProps:{value:e.value}},[t._v(t._s(e.label))])}),0),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedResolution,expression:"selectedResolution"}],staticClass:"form-control ml-2",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedResolution=e.target.multiple?n:n[0]}}},t._l(t.resolutionList,function(e){return n("option",{domProps:{value:e}},[t._v(t._s(e/1e3+"s"))])}),0),n("button",{staticClass:"btn btn-outline-light ml-2",attrs:{type:"button"},on:{click:t.goToLeft}},[t._v("ðŸ¡„")]),n("button",{staticClass:"btn btn-outline-light ml-2",attrs:{type:"button"},on:{click:t.goToRight}},[t._v("ðŸ¡†")])],1)]:t._e()],2)},h=[],_=(n("20d6"),n("b0b4")),p=n("60a3"),g=(n("96cf"),n("3b8d")),v=n("2f62"),b=(n("ac6a"),function t(){Object(u["a"])(this,t)});b.gainList=[.001,.01,.1,.2,.5,1,2,4,5,10,20,50,100,1e3].map(function(t){return{value:t,label:t+"uV/cm"}}),b.resolutionList=[5,10,20,30,60].map(function(t){return 1e3*t}),b.notchList=[50,60],b.lowpassList=[35,50,70,100,200,400],b.highpassList=[.1,.3,.5,1,2,10],b.defaultFilters=[["Notch",null],["Highpass",null],["Lowpass",null]],b.defaultGain=1;var m,w=function(){function t(e,n){Object(u["a"])(this,t),this.label=e,this.signals=n}return Object(_["a"])(t,[{key:"toWasmStruct",value:function(){return{label:this.label,signals:this.signals.map(function(t){return t.toWasmStruct()})}}},{key:"updateFilters",value:function(t,e){this.signals.forEach(function(n){var r=n.filter.findIndex(function(e){return e.filterType===t});r>-1&&n.filter.splice(r,1),null!==e&&n.filter.push(new j(t,e))})}},{key:"updateGain",value:function(t){this.signals.forEach(function(e){return e.operation.gain=t})}}],[{key:"getDefaultMontage",value:function(e){var n=e.channels.filter(function(t){return"EDF Annotations"!==t.label}).map(function(t,n){var r=1e3*t.number_of_samples_in_data_record/e.block_duration,a=new k(t.label,new L(n,b.defaultGain),r,[]);return b.defaultFilters.forEach(function(t){null!==t[1]&&a.filter.push(new j(t[0],t[1]))}),a});return new t("default",n)}}]),t}();(function(t){t["Notch"]="Notch",t["Highpass"]="Highpass",t["Lowpass"]="Lowpass"})(m||(m={}));var y,j=function(){function t(e,n){Object(u["a"])(this,t),this.filterType=e,this.freq=n}return Object(_["a"])(t,[{key:"toWasmStruct",value:function(){return{filter_type:this.filterType,freq:this.freq}}}]),t}(),k=function(){function t(e,n,r,a){Object(u["a"])(this,t),this.label=e,this.operation=n,this.samplingRate=r,this.filter=a}return Object(_["a"])(t,[{key:"toWasmStruct",value:function(){var t={};return t[this.operation.type]=this.operation.toWasmStruct(),{label:this.label,operation:t,sampling_rate:this.samplingRate,filter:this.filter.map(function(t){return t.toWasmStruct()})}}}]),t}(),O=function t(e,n){Object(u["a"])(this,t),this.type=e,this.gain=n},L=function(t){function e(t,n){var r;return Object(u["a"])(this,e),r=Object(s["a"])(this,Object(l["a"])(e).call(this,"Constant",n)),r.signalId=t,r}return Object(c["a"])(e,t),Object(_["a"])(e,[{key:"toWasmStruct",value:function(){return{signal_id:this.signalId,gain:this.gain}}}]),e}(O);(function(t){t["Add"]="Add",t["Minus"]="Minus"})(y||(y={}));var C,x=n("b054"),F=n.n(x),S=n("5a2b"),T=(n("6b54"),n("f499")),E=n.n(T),R=n("a745"),M=n.n(R),A=(n("7f7f"),n("7618")),W=n("795b"),P=n.n(W),H=(n("6aa2"),n("9c29"),n("34ef"),n("6c7b"),{});function D(){return C.init_error_panic()}H.init_error_panic=D;var G=new Array(32);G.fill(void 0),G.push(void 0,null,!0,!1);var N=G.length;function $(t){N===G.length&&G.push(G.length+1);var e=N;return N=G[e],G[e]=t,e}function I(t){return G[t]}function V(t){t<36||(G[t]=N,N=t)}function z(t){var e=I(t);return V(t),e}function q(t){return z(C.init_reader($(t)))}H.init_reader=q;var U,B=0,J=new TextEncoder("utf-8"),K=null;function Q(){return null!==K&&K.buffer===C.memory.buffer||(K=new Uint8Array(C.memory.buffer)),K}function X(t,e,n,r,a){var i=U(a),o=B;return z(C.read_window(t,e,n,r,i,o))}U="function"===typeof J.encodeInto?function(t){var e=t.length,n=C.__wbindgen_malloc(e),r=0;while(1){var a=Q().subarray(n+r,n+e),i=J.encodeInto(t,a),o=i.read,u=i.written;if(r+=u,o===t.length)break;t=t.substring(o),n=C.__wbindgen_realloc(n,e,e+=3*t.length)}return B=r,n}:function(t){var e=J.encode(t),n=C.__wbindgen_malloc(e.length);return Q().set(e,n),B=e.length,n},H.read_window=X;var Y=32;function Z(t){if(1==Y)throw new Error("out of js stack");return G[--Y]=t,Y}function tt(t){try{return C.set_current_montage(Z(t))}finally{G[Y++]=void 0}}H.set_current_montage=tt;var et=new TextDecoder("utf-8");function nt(t,e){return et.decode(Q().subarray(t,t+e))}function rt(t,e){var n=nt(t,e);n=n.slice(),C.__wbindgen_free(t,1*e),console.error(n)}function at(){return $(new Error)}H.__wbg_error_4bb6c2a97407129a=rt,H.__wbg_new_59cb74e423758ede=at;var it=null;function ot(){return null!==it&&it.buffer===C.memory.buffer||(it=new Uint32Array(C.memory.buffer)),it}function ut(t,e){var n=U(I(e).stack),r=B,a=ot();a[t/4]=n,a[t/4+1]=r}function st(t,e){var n=ot();n[t/4]=1,n[t/4+1]=$(e)}function lt(t,e,n,r){try{return $(I(t).slice(e,n))}catch(a){st(r,a)}}function ct(t){return I(t)instanceof CanvasRenderingContext2D?1:0}function ft(t,e,n,r,a){try{I(t).putImageData(I(e),n,r)}catch(i){st(a,i)}}function dt(t){return void 0===t||null===t}function ht(t,e,n){var r=nt(e,n),a=I(t).getElementById(r);return dt(a)?0:$(a)}function _t(t){try{return $(new FileReader)}catch(e){st(t,e)}}function pt(t,e,n){try{I(t).readAsArrayBuffer(I(e))}catch(r){st(n,r)}}function gt(t){return I(t).readyState}function vt(t,e){try{return $(I(t).result)}catch(n){st(e,n)}}function bt(t,e){I(t).onload=I(e)}function mt(t,e){I(t).onerror=I(e)}function wt(t){return I(t)instanceof HTMLCanvasElement?1:0}function yt(t,e,n,r){var a=nt(e,n);try{var i=I(t).getContext(a);return dt(i)?0:$(i)}catch(o){st(r,o)}}H.__wbg_stack_558ba5917b466edd=ut,H.__widl_f_slice_with_i32_and_i32_Blob=lt,H.__widl_instanceof_CanvasRenderingContext2D=ct,H.__widl_f_put_image_data_CanvasRenderingContext2D=ft,H.__widl_f_get_element_by_id_Document=ht,H.__widl_f_new_FileReader=_t,H.__widl_f_read_as_array_buffer_FileReader=pt,H.__widl_f_ready_state_FileReader=gt,H.__widl_f_result_FileReader=vt,H.__widl_f_set_onload_FileReader=bt,H.__widl_f_set_onerror_FileReader=mt,H.__widl_instanceof_HTMLCanvasElement=wt,H.__widl_f_get_context_HTMLCanvasElement=yt;var jt=null;function kt(){return null!==jt&&jt.buffer===C.memory.buffer||(jt=new Uint8ClampedArray(C.memory.buffer)),jt}function Ot(t,e){return kt().subarray(t/1,t/1+e)}function Lt(t,e,n,r,a){var i=Ot(t,e);try{return $(new ImageData(i,n>>>0,r>>>0))}catch(o){st(a,o)}}function Ct(t){return I(t)instanceof Window?1:0}function xt(t){var e=I(t).document;return dt(e)?0:$(e)}function Ft(t){console.debug(I(t))}function St(t,e){var n=nt(t,e);return $(new Error(n))}function Tt(t,e){var n=nt(t,e);return $(new Function(n))}function Et(t,e,n){try{return $(I(t).call(I(e)))}catch(r){st(n,r)}}function Rt(t,e,n,r){try{return $(I(t).call(I(e),I(n)))}catch(a){st(r,a)}}function Mt(t,e){var n=function(t,e){var n=this.a;this.a=0;try{return this.f(n,this.b,$(t),$(e))}finally{this.a=n}};n.f=C.__wbg_function_table.get(121),n.a=t,n.b=e;try{return $(new P.a(n.bind(n)))}finally{n.a=n.b=0}}function At(t){return $(P.a.resolve(I(t)))}function Wt(t,e){return $(I(t).then(I(e)))}function Pt(t){return $(new Uint8Array(I(t)))}function Ht(t){return I(t).length}function Dt(t,e,n){I(t).set(I(e),n>>>0)}function Gt(t){return $(I(t).buffer)}function Nt(t,e){return $(nt(t,e))}function $t(t,e){var n=function t(e){var n=Object(A["a"])(e);if("number"==n||"boolean"==n||null==e)return"".concat(e);if("string"==n)return'"'.concat(e,'"');if("symbol"==n){var a=e.description;return null==a?"Symbol":"Symbol(".concat(a,")")}if("function"==n){var i=e.name;return"string"==typeof i&&i.length>0?"Function(".concat(i,")"):"Function"}if(M()(e)){var o=e.length,u="[";o>0&&(u+=t(e[0]));for(var s=1;s<o;s++)u+=", "+t(e[s]);return u+="]",u}var l,c=/\[object ([^\]]+)\]/.exec(r.call(e));if(!(c.length>1))return r.call(e);if(l=c[1],"Object"==l)try{return"Object("+E()(e)+")"}catch(f){return"Object"}return e instanceof Error?"".concat(e.name,": ").concat(e.message,"\n        ").concat(e.stack):l},r=Object.prototype.toString,a=I(t),i=n(a),o=U(i);return ot()[e/4]=B,o}function It(t){var e=z(t).original;return 1==e.cnt--?(e.a=0,1):0}function Vt(t,e){return $(JSON.parse(nt(t,e)))}function zt(t,e){var n=U(E()(I(t)));return ot()[e/4]=n,B}function qt(){return $(C.memory)}function Ut(t,e){throw new Error(nt(t,e))}function Bt(t,e,n){var r=C.__wbg_function_table.get(45),a=C.__wbg_function_table.get(46),i=function(){this.cnt++;try{return r(this.a,e)}finally{0===--this.cnt&&(a(this.a,e),this.a=0)}};i.a=t,i.cnt=1;var o=i.bind(i);return o.original=i,$(o)}function Jt(t,e,n){var r=C.__wbg_function_table.get(98),a=C.__wbg_function_table.get(99),i=function(t){this.cnt++;var n=this.a;this.a=0;try{return r(n,e,$(t))}finally{0===--this.cnt?a(n,e):this.a=n}};i.a=t,i.cnt=1;var o=i.bind(i);return o.original=i,$(o)}function Kt(t){return $(I(t))}function Qt(t){V(t)}function Xt(t){var e,n={"./edf_viewer_worker":H};if(t instanceof URL||"string"===typeof t||t instanceof Request){var r=fetch(t);e="function"===typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(r,n).catch(function(t){return console.warn("`WebAssembly.instantiateStreaming` failed. Assuming this is because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t),r.then(function(t){return t.arrayBuffer()}).then(function(t){return WebAssembly.instantiate(t,n)})}):r.then(function(t){return t.arrayBuffer()}).then(function(t){return WebAssembly.instantiate(t,n)})}else e=WebAssembly.instantiate(t,n).then(function(e){return e instanceof WebAssembly.Instance?{instance:e,module:t}:e});return e.then(function(t){var e=t.instance,n=t.module;return C=e.exports,Xt.__wbindgen_wasm_module=n,C})}H.__widl_f_new_with_u8_clamped_array_and_sh_ImageData=Lt,H.__widl_instanceof_Window=Ct,H.__widl_f_document_Window=xt,H.__widl_f_debug_1_=Ft,H.__wbg_new_a76edbd366064b30=St,H.__wbg_newnoargs_cb83ac9bfa714d41=Tt,H.__wbg_call_75755734bfea4d37=Et,H.__wbg_call_0492299fb1f5901e=Rt,H.__wbg_new_ce158cf1048d4c17=Mt,H.__wbg_resolve_de6a9d3662905882=At,H.__wbg_then_3faaae6de0104bf6=Wt,H.__wbg_new_04680b8a0a924f7e=Pt,H.__wbg_length_d709f3a85b86a869=Ht,H.__wbg_set_e5e3840df17402c2=Dt,H.__wbg_buffer_4a70ae284f1a6c0b=Gt,H.__wbindgen_string_new=Nt,H.__wbindgen_debug_string=$t,H.__wbindgen_cb_drop=It,H.__wbindgen_json_parse=Vt,H.__wbindgen_json_serialize=zt,H.__wbindgen_memory=qt,H.__wbindgen_throw=Ut,H.__wbindgen_closure_wrapper133=Bt,H.__wbindgen_closure_wrapper424=Jt,H.__wbindgen_object_clone_ref=Kt,H.__wbindgen_object_drop_ref=Qt;var Yt=Xt;a["default"].use(v["a"]);var Zt=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(s["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.edfHeader=null,t.currentResolution=2e4,t.currentStartTime=0,t.currentMontage=new w("default",[]),t}return Object(c["a"])(e,t),Object(_["a"])(e,[{key:"changeCurrentWindow",value:function(t){this.currentResolution=t.resolution,this.currentStartTime=t.startTime}},{key:"applyMontage",value:function(t){this.currentMontage=t,tt(t.toWasmStruct())}},{key:"applyEdfHeader",value:function(t){this.edfHeader=t}},{key:"goToLeft",value:function(){this.currentStartTime=this.currentStartTime-this.currentResolution/2}},{key:"goToRight",value:function(){this.currentStartTime=this.currentStartTime+this.currentResolution/2}},{key:"loadEdfFile",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:q(e).then(function(t){n.applyEdfHeader(t);var e=w.getDefaultMontage(t);n.applyMontage(e)});case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"isFileLoaded",get:function(){return null!==this.edfHeader}}]),e}(S["VuexModule"]);f["a"]([S["getter"]],Zt.prototype,"edfHeader",void 0),f["a"]([S["getter"]],Zt.prototype,"currentResolution",void 0),f["a"]([S["getter"]],Zt.prototype,"currentStartTime",void 0),f["a"]([S["getter"]],Zt.prototype,"currentMontage",void 0),f["a"]([S["getter"]],Zt.prototype,"isFileLoaded",null),f["a"]([S["mutation"]],Zt.prototype,"changeCurrentWindow",null),f["a"]([S["mutation"]],Zt.prototype,"applyMontage",null),f["a"]([S["mutation"]],Zt.prototype,"applyEdfHeader",null),f["a"]([S["mutation"]],Zt.prototype,"goToLeft",null),f["a"]([S["mutation"]],Zt.prototype,"goToRight",null),f["a"]([Object(S["action"])()],Zt.prototype,"loadEdfFile",null),Zt=f["a"]([Object(S["Module"])()],Zt);var te=Zt.ExtractVuexModule(Zt),ee=new v["a"].Store({modules:{generalStore:te},plugins:[F()()]}),ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{ref:"myFile",staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:t.loadFile}}),n("button",{staticClass:"btn btn-outline-light",attrs:{type:"button"},on:{click:t.trigger}},[t._v("Open a file")])])},re=[],ae=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(s["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.generalStore=Zt.CreateProxy(t.$store,Zt),t}return Object(c["a"])(e,t),Object(_["a"])(e,[{key:"trigger",value:function(){this.$refs.myFile.click()}},{key:"loadFile",value:function(t){var e=t.target.files[0];this.generalStore.loadEdfFile(e)}}]),e}(p["b"]);ae=f["a"]([p["a"]],ae);var ie=ae,oe=ie,ue=n("2877"),se=Object(ue["a"])(oe,ne,re,!1,null,"152fcd9e",null),le=se.exports,ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filer-selector"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.highpass,expression:"highpass"}],staticClass:"form-control mr-2",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.highpass=e.target.multiple?n:n[0]}}},[n("option",{domProps:{value:null}},[t._v("---")]),t._l(t.highpassList,function(e){return n("option",{domProps:{value:e}},[t._v(t._s(e)+"Hz")])})],2),n("select",{directives:[{name:"model",rawName:"v-model",value:t.lowpass,expression:"lowpass"}],staticClass:"form-control mr-2",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.lowpass=e.target.multiple?n:n[0]}}},[n("option",{domProps:{value:null}},[t._v("---")]),t._l(t.lowpassList,function(e){return n("option",{domProps:{value:e}},[t._v(t._s(e)+"Hz")])})],2),n("select",{directives:[{name:"model",rawName:"v-model",value:t.notch,expression:"notch"}],staticClass:"form-control mr-4",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.notch=e.target.multiple?n:n[0]}}},[n("option",{domProps:{value:null}},[t._v("---")]),t._l(t.notchList,function(e){return n("option",{domProps:{value:e}},[t._v(t._s(e)+"Hz")])})],2)])},fe=[],de=(n("7514"),function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(s["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.store=Zt.CreateProxy(t.$store,Zt),t.lowpassList=b.lowpassList,t.highpassList=b.highpassList,t.notchList=b.notchList,t}return Object(c["a"])(e,t),Object(_["a"])(e,[{key:"setFilterValue",value:function(t,e){this.store.currentMontage.updateFilters(t,e),this.store.applyMontage(this.store.currentMontage)}},{key:"getFilterValue",value:function(t){var e=null,n=this.store.currentMontage.signals[0].filter.find(function(e){return e.filterType===t});return void 0!==n&&(e=n.freq),e}},{key:"notch",get:function(){return this.getFilterValue(m.Notch)},set:function(t){this.setFilterValue(m.Notch,t)}},{key:"lowpass",get:function(){return this.getFilterValue(m.Lowpass)},set:function(t){this.setFilterValue(m.Lowpass,t)}},{key:"highpass",get:function(){return this.getFilterValue(m.Highpass)},set:function(t){this.setFilterValue(m.Highpass,t)}}]),e}(p["b"]));de=f["a"]([p["a"]],de);var he=de,_e=he,pe=Object(ue["a"])(_e,ce,fe,!1,null,null,null),ge=pe.exports,ve=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(s["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.gainList=b.gainList,t.resolutionList=b.resolutionList,t.store=Zt.CreateProxy(t.$store,Zt),t}return Object(c["a"])(e,t),Object(_["a"])(e,[{key:"mounted",value:function(){window.addEventListener("keyup",this.handleKeykoardEvent)}},{key:"destroyed",value:function(){window.removeEventListener("keyup",this.handleKeykoardEvent)}},{key:"goToLeft",value:function(){this.store.goToLeft()}},{key:"goToRight",value:function(){this.store.goToRight()}},{key:"handleKeykoardEvent",value:function(t){switch(t.key){case"ArrowUp":this.changeGain(!0);break;case"ArrowDown":this.changeGain(!1);break;case"ArrowLeft":this.store.goToLeft();break;case"ArrowRight":this.store.goToRight();break}}},{key:"changeGain",value:function(t){var e=this,n=b.gainList.findIndex(function(t){return t.value===e.selectedGain});t&&n<b.gainList.length-1?this.selectedGain=b.gainList[n+1].value:!t&&n>0&&(this.selectedGain=b.gainList[n-1].value)}},{key:"selectedGain",get:function(){return this.store.currentMontage.signals[0].operation.gain},set:function(t){this.store.currentMontage.updateGain(t),this.store.applyMontage(this.store.currentMontage)}},{key:"selectedResolution",get:function(){return this.store.currentResolution},set:function(t){this.store.changeCurrentWindow({startTime:this.store.currentStartTime,resolution:t})}},{key:"isFileLoaded",get:function(){return this.store.isFileLoaded}}]),e}(p["b"]);ve=f["a"]([Object(p["a"])({components:{SelectFile:le,FilterSelector:ge}})],ve);var be=ve,me=be,we=Object(ue["a"])(me,d,h,!1,null,null,null),ye=we.exports,je=n("65d9"),ke=n.n(je),Oe=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(s["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.store=Zt.CreateProxy(t.$store,Zt),t}return Object(c["a"])(e,t),e}(a["default"]);Oe=f["a"]([ke()({components:{Menubar:ye}})],Oe);var Le=Oe,Ce=Le,xe=(n("034f"),Object(ue["a"])(Ce,i,o,!1,null,null,null)),Fe=xe.exports,Se=n("8c4f"),Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"viewer d-flex flex-row p-4"},[n("div",{staticClass:"channel-label-list mr-2 d-flex flex-column"},t._l(t.channelLabels,function(e){return n("div",{staticClass:"channel-label flex-fill"},[t._v(t._s(e))])}),0),n("canvas",{ref:"chart",staticClass:"flex-fill card chart",attrs:{id:"chart"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isfileLoaded,expression:"!isfileLoaded"}],staticClass:"fileNotLoaded"},[n("h2",[t._v("No Signals")])])])},Ee=[],Re=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(s["a"])(this,Object(l["a"])(e).call(this)),t.store=Zt.CreateProxy(t.$store,Zt),t}return Object(c["a"])(e,t),Object(_["a"])(e,[{key:"mounted",value:function(){var t=this;this.chart.width=this.chart.clientWidth,this.chart.height=this.chart.clientHeight,this.isfileLoaded&&this.drawChart(),window.addEventListener("resize",function(){return t.resize()})}},{key:"destroyed",value:function(){var t=this;window.removeEventListener("resize",function(){return t.resize})}},{key:"resize",value:function(){this.chart.width=this.chart.clientWidth,this.chart.height=this.chart.clientHeight,this.drawChart()}},{key:"onWindowChanged",value:function(t,e){this.drawChart()}},{key:"drawChart",value:function(){console.debug("Draw chart"),X(this.store.currentStartTime,this.store.currentResolution,this.chart.width,this.chart.height,"chart")}},{key:"isfileLoaded",get:function(){return this.store.isFileLoaded}},{key:"isWindowChanged",get:function(){return[this.store.currentResolution,this.store.currentStartTime,this.store.isFileLoaded,E()(this.store.currentMontage)].join()}},{key:"channelLabels",get:function(){return this.store.currentMontage.signals.map(function(t){return t.label})}},{key:"chart",get:function(){return this.$refs.chart}}]),e}(p["b"]);f["a"]([Object(p["c"])("isWindowChanged")],Re.prototype,"onWindowChanged",null),Re=f["a"]([p["a"]],Re);var Me=Re,Ae=Me,We=(n("9ba0"),Object(ue["a"])(Ae,Te,Ee,!1,null,"1c1286df",null)),Pe=We.exports;a["default"].use(Se["a"]);var He=new Se["a"]({mode:"history",base:"/web-edf-viewer/",routes:[{path:"/",name:"viewer",component:Pe},{path:"/montage",name:"montage",component:function(){return n.e("montage").then(n.bind(null,"ec26"))}}]});n("ab8b");function De(){return Ge.apply(this,arguments)}function Ge(){return Ge=Object(g["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Yt("./assembly/edf_viewer_worker_bg.wasm").then(function(t){return D(),r}));case 1:case"end":return t.stop()}},t)})),Ge.apply(this,arguments)}De().then(function(t){a["default"].config.productionTip=!1,new a["default"]({router:He,store:ee,render:function(t){return t(Fe)}}).$mount("#app")})}});
//# sourceMappingURL=app.fb4da82f.js.map